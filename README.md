<p align="center">
  <img src="./File_Hatch_banner.png" alt="FileHatch Banner" width="600">
</p>

# FileHatch

**ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ í´ë¼ìš°ë“œ íŒŒì¼ ê³µìœ  ì‹œìŠ¤í…œ**

[![Go Version](https://img.shields.io/badge/Go-1.23-00ADD8?logo=go)](https://golang.org/)
[![React](https://img.shields.io/badge/React-18.3-61DAFB?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.6-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?logo=docker)](https://www.docker.com/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## ê°œìš”

FileHatchëŠ” ê¸°ì—… í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì•ˆì „í•˜ê³  ê¸°ëŠ¥ì´ í’ë¶€í•œ ìì²´ í˜¸ìŠ¤íŒ… í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. Dropbox, OneDrive, ShareFileê³¼ ê°™ì€ ìƒìš© ì†”ë£¨ì…˜ì„ ëŒ€ì²´í•  ìˆ˜ ìˆìœ¼ë©°, ë°ì´í„°ì— ëŒ€í•œ ì™„ì „í•œ ì œì–´ê¶Œì„ ìœ ì§€í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- **ë‹¤ì¤‘ í”„ë¡œí† ì½œ ì ‘ê·¼**: ì›¹ UI, SMB/CIFS, WebDAV ì§€ì›
- **ê°•ë ¥í•œ ë³´ì•ˆ**: JWT ì¸ì¦, 2FA(TOTP), SSO/OIDC í†µí•©, ë¸Œë£¨íŠ¸í¬ìŠ¤ ë°©ì§€
- **ë¬¸ì„œ í¸ì§‘**: OnlyOffice í†µí•©ìœ¼ë¡œ ë¸Œë¼ìš°ì € ë‚´ Office ë¬¸ì„œ í¸ì§‘
- **íŒ€ í˜‘ì—…**: ê³µìœ  ë“œë¼ì´ë¸Œ, íŒŒì¼ ê³µìœ , ì‹¤ì‹œê°„ ì•Œë¦¼
- **PWA ì§€ì›**: ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ì•±ì²˜ëŸ¼ ì„¤ì¹˜ ê°€ëŠ¥
- **ì™„ì „ ì»¨í…Œì´ë„ˆí™”**: Docker Composeë¡œ ê°„í¸í•œ ë°°í¬

---

## ê¸°ìˆ  ìŠ¤íƒ

### Backend (Go API Server)
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Go | 1.23 | ë©”ì¸ ì–¸ì–´ |
| Echo | v4.12 | ì›¹ í”„ë ˆì„ì›Œí¬ |
| PostgreSQL | 17 | ì£¼ ë°ì´í„°ë² ì´ìŠ¤ |
| Valkey | 8.1 | ìºì‹œ/ì„¸ì…˜ (Redis í˜¸í™˜) |
| TUS | v2.4 | ì¬ê°œ ê°€ëŠ¥í•œ íŒŒì¼ ì—…ë¡œë“œ |
| JWT | v5 | ì¸ì¦ í† í° |
| Gorilla WebSocket | v1.5 | ì‹¤ì‹œê°„ ì•Œë¦¼ |
| pquerna/otp | v1.4 | TOTP 2ë‹¨ê³„ ì¸ì¦ |
| zerolog | - | êµ¬ì¡°í™”ëœ ë¡œê¹… |

### Frontend (React SPA)
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React | 18.3 | UI í”„ë ˆì„ì›Œí¬ |
| TypeScript | 5.6 | íƒ€ì… ì•ˆì „ì„± |
| Vite | 5.4 | ë¹Œë“œ ë„êµ¬ |
| Zustand | 5.0 | ìƒíƒœ ê´€ë¦¬ |
| TanStack Query | 5.62 | ì„œë²„ ìƒíƒœ ê´€ë¦¬ |
| TanStack Virtual | 3.11 | ê°€ìƒ ìŠ¤í¬ë¡¤ë§ |
| tus-js-client | 4.2 | ì¬ê°œ ê°€ëŠ¥í•œ ì—…ë¡œë“œ |
| Monaco Editor | 0.52 | ì½”ë“œ/í…ìŠ¤íŠ¸ í¸ì§‘ê¸° |
| react-pdf | 10.2 | PDF ë·°ì–´ |

### ì¸í”„ë¼
| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Docker & Docker Compose | ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| Express.js 4.21 | UI ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ |
| Samba 4.20 | SMB/CIFS íŒŒì¼ ê³µìœ  |
| OnlyOffice (ì„ íƒ) | Office ë¬¸ì„œ í¸ì§‘ |
| Keycloak 26.4 (ì„ íƒ) | SSO/OIDC ì¸ì¦ |

---

## ê¸°ëŠ¥ ìƒì„¸

### ì¸ì¦ ë° ë³´ì•ˆ
- **JWT ê¸°ë°˜ ì¸ì¦**: ì•ˆì „í•œ í† í° ê¸°ë°˜ ì¸ì¦
- **2ë‹¨ê³„ ì¸ì¦ (TOTP)**: Google Authenticator, Authy ë“± í˜¸í™˜
  - QR ì½”ë“œ ìŠ¤ìº”ìœ¼ë¡œ ê°„í¸ ì„¤ì •
  - 8ê°œì˜ ë°±ì—… ì½”ë“œ ì œê³µ
- **SSO í†µí•©**: OIDC í”„ë¡œí† ì½œ ì§€ì›
  - Keycloak, Google, Azure AD, GitHub ë“±
  - ìë™ ì‚¬ìš©ì ìƒì„± ì˜µì…˜
  - ë„ë©”ì¸ ì œí•œ ì„¤ì •
- **ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: ê´€ë¦¬ì/ì¼ë°˜ ì‚¬ìš©ì ë¶„ë¦¬
- **ACL ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬**: íŒŒì¼/í´ë”ë³„ ì„¸ë¶„í™”ëœ ê¶Œí•œ
- **ë¸Œë£¨íŠ¸í¬ìŠ¤ ë°©ì§€**: ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜ ì œí•œ ë° ìë™ ì°¨ë‹¨
- **ê°ì‚¬ ë¡œê·¸**: ëª¨ë“  ì‘ì—…ì— ëŒ€í•œ ë¶ˆë³€ ê°ì‚¬ ì¶”ì 

### íŒŒì¼ ê´€ë¦¬
- **ì—…ë¡œë“œ**
  - TUS í”„ë¡œí† ì½œ ê¸°ë°˜ ì¬ê°œ ê°€ëŠ¥í•œ ì—…ë¡œë“œ
  - ë“œë˜ê·¸ ì•¤ ë“œë¡­ (íŒŒì¼ ë° í´ë”)
  - í´ë” êµ¬ì¡° ìœ ì§€ ì—…ë¡œë“œ
  - ì—…ë¡œë“œ ì§„í–‰ë¥  ë° ì†ë„ í‘œì‹œ
  - ì—…ë¡œë“œ ì¼ì‹œì •ì§€/ì¬ê°œ/ì·¨ì†Œ
- **ë‹¤ìš´ë¡œë“œ**
  - ê°œë³„ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
  - ZIP í´ë” ë‹¤ìš´ë¡œë“œ (ìºì‹± ì§€ì›)
  - ë‹¤ì¤‘ íŒŒì¼ ZIP ì••ì¶• ë‹¤ìš´ë¡œë“œ
  - ë‹¤ìš´ë¡œë“œ ì§„í–‰ë¥  í‘œì‹œ
- **íŒŒì¼ ì‘ì—…**
  - ì´ë¦„ ë³€ê²½, ë³µì‚¬, ì´ë™
  - íœ´ì§€í†µ (ë³µì›, ì˜êµ¬ ì‚­ì œ)
  - ë‹¤ì¤‘ ì„ íƒ (Ctrl+í´ë¦­, Shift+í´ë¦­)
  - ì¼ê´„ ì‘ì—… (ì‚­ì œ, ë‹¤ìš´ë¡œë“œ)
  - íŒŒì¼ ì ê¸ˆ (ë™ì‹œ í¸ì§‘ ë°©ì§€)
  - ì¦ê²¨ì°¾ê¸°/ë³„í‘œ ê¸°ëŠ¥
- **íŒŒì¼ ìƒì„±**
  - í…ìŠ¤íŠ¸ íŒŒì¼ (txt, md, html, json)
  - Office ë¬¸ì„œ (docx, xlsx, pptx)
- **ê²€ìƒ‰**
  - íŒŒì¼ëª…, íƒœê·¸, ì„¤ëª… ê²€ìƒ‰
  - í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›
  - ì‹¤ì‹œê°„ ë¡œì»¬ í•„í„°ë§

### íŒŒì¼ ë¯¸ë¦¬ë³´ê¸° ë° í¸ì§‘
- **ë¯¸ë¦¬ë³´ê¸° ì§€ì›**
  - ì´ë¯¸ì§€ (JPEG, PNG, GIF, WebP, SVG)
  - ë¹„ë””ì˜¤ (MP4, WebM, MOV)
  - ì˜¤ë””ì˜¤ (MP3, WAV, OGG)
  - PDF ë¬¸ì„œ
  - í…ìŠ¤íŠ¸/ì½”ë“œ íŒŒì¼
  - ZIP íŒŒì¼ (ë‚´ìš© íƒìƒ‰ ë° ì••ì¶• í•´ì œ)
- **ì¸ë„¤ì¼ ì‹œìŠ¤í…œ**
  - ìë™ ì¸ë„¤ì¼ ìƒì„±
  - ë°˜ì‘í˜• í¬ê¸° (64px ~ 512px)
  - ë””ìŠ¤í¬ + Valkey ì´ì¤‘ ìºì‹±
- **ë¬¸ì„œ í¸ì§‘**
  - Monaco Editor ê¸°ë°˜ í…ìŠ¤íŠ¸/ì½”ë“œ í¸ì§‘
  - êµ¬ë¬¸ ê°•ì¡° ì§€ì›
  - OnlyOffice í†µí•© (ì„ íƒ)
    - Word, Excel, PowerPoint í¸ì§‘
    - ì‹¤ì‹œê°„ ìë™ ì €ì¥

### íŒŒì¼ ê³µìœ 

#### ë‹¤ìš´ë¡œë“œ ë§í¬
ì™¸ë¶€ ì‚¬ìš©ìì™€ íŒŒì¼/í´ë”ë¥¼ ì•ˆì „í•˜ê²Œ ê³µìœ 
- ê³ ìœ  ê³µìœ  URL ìƒì„±
- ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸ (ì„ íƒ)
- ë§Œë£Œ ì‹œê°„ ì„¤ì •
- ìµœëŒ€ ì ‘ê·¼ íšŸìˆ˜ ì œí•œ
- ë¡œê·¸ì¸ í•„ìˆ˜ ì˜µì…˜
- ì ‘ê·¼ í†µê³„ ì¶”ì 

#### ì—…ë¡œë“œ ë§í¬
ì™¸ë¶€ ì‚¬ìš©ìë¡œë¶€í„° íŒŒì¼ ìˆ˜ì§‘
- í´ë” ê¸°ë°˜ ì—…ë¡œë“œ ë§í¬
- ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸
- íŒŒì¼ í¬ê¸° ì œí•œ
- í—ˆìš© í™•ì¥ì ì„¤ì •
- ì´ ì—…ë¡œë“œ ìš©ëŸ‰ ì œí•œ
- ì—…ë¡œë“œ íšŸìˆ˜ ì œí•œ

#### ì‚¬ìš©ì ê°„ ê³µìœ 
ì‹œìŠ¤í…œ ë‚´ ì‚¬ìš©ìì™€ íŒŒì¼ ê³µìœ 
- ì½ê¸° ì „ìš© / ì½ê¸°+ì“°ê¸° ê¶Œí•œ
- ê³µìœ  ë©”ì‹œì§€ ì²¨ë¶€
- ê³µìœ ë°›ì€ íŒŒì¼ ëª©ë¡ (/shared-with-me)
- ê³µìœ  ì•Œë¦¼ (ì‹¤ì‹œê°„)

### ê³µìœ  ë“œë¼ì´ë¸Œ (íŒ€ í´ë”)
íŒ€ í˜‘ì—…ì„ ìœ„í•œ ê³µìœ  ì‘ì—… ê³µê°„
- ê´€ë¦¬ìê°€ ë“œë¼ì´ë¸Œ ìƒì„±/ê´€ë¦¬
- ë©¤ë²„ ì¶”ê°€/ì œê±°
- ê¶Œí•œ ê´€ë¦¬ (ì½ê¸° ì „ìš©, ì½ê¸°/ì“°ê¸°)
- ìŠ¤í† ë¦¬ì§€ ì¿¼í„° ì„¤ì •
- ì‚¬ìš©ì ìƒì„± ì‹œ ìë™ ê¶Œí•œ í• ë‹¹
- ë“œë¼ì´ë¸Œ ê²€ìƒ‰ (5ê°œ ì´ìƒ ì‹œ)

### ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬
- **ì‚¬ìš©ìë³„ í™ˆ í´ë”** (`/home/{username}`)
- **ê³µìœ  ë“œë¼ì´ë¸Œ** (`/shared-drives/{drive-name}`)
- **ê³µìœ ë°›ì€ íŒŒì¼** (`/shared-with-me`)
- **ìŠ¤í† ë¦¬ì§€ ì¿¼í„°**: ì‚¬ìš©ìë³„ ìš©ëŸ‰ ì œí•œ
- **ì‹¤ì‹œê°„ ì‚¬ìš©ëŸ‰ í‘œì‹œ**
- **SMB/CIFS ì ‘ê·¼**: Windows íƒìƒ‰ê¸°, macOS Finder
- **WebDAV ì ‘ê·¼**: ë°ìŠ¤í¬í†± ì•± ì—°ë™

### ì‚¬ìš©ì ê²½í—˜
- **ì‹¤ì‹œê°„ ì•Œë¦¼**: WebSocket ê¸°ë°˜ íŒŒì¼ ë³€ê²½ ì•Œë¦¼
- **ë‹¤í¬ ëª¨ë“œ**: ì‹œìŠ¤í…œ ì„¤ì • ì—°ë™
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼/íƒœë¸”ë¦¿ ì§€ì›
- **ê°€ìƒ ìŠ¤í¬ë¡¤**: ëŒ€ìš©ëŸ‰ í´ë” ì„±ëŠ¥ ìµœì í™” (100+ íŒŒì¼)
- **ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´**: ìš°í´ë¦­ ë¹ ë¥¸ ì‘ì—…
- **í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤**: íŒŒì¼ íƒìƒ‰ ë° ì‘ì—…
- **íŒŒì¼ ìƒì„¸ íŒ¨ë„**: ë©”íƒ€ë°ì´í„°, í†µê³„ í‘œì‹œ
- **í† ìŠ¤íŠ¸ ì•Œë¦¼**: ì‘ì—… ê²°ê³¼ í”¼ë“œë°±

### ê´€ë¦¬ì ê¸°ëŠ¥
- **ì‚¬ìš©ì ê´€ë¦¬**: CRUD, í™œì„±í™”/ë¹„í™œì„±í™”
- **ê³µìœ  ë“œë¼ì´ë¸Œ ê´€ë¦¬**: ìƒì„±, ë©¤ë²„ ê´€ë¦¬
- **ì‹œìŠ¤í…œ ì„¤ì •**: íœ´ì§€í†µ ë³´ê´€ ê¸°ê°„, ê¸°ë³¸ ì¿¼í„° ë“±
- **SSO í”„ë¡œë°”ì´ë” ê´€ë¦¬**: OIDC ì„¤ì •
- **ê°ì‚¬ ë¡œê·¸**: ìƒì„¸ í•„í„°ë§, ë‚´ë³´ë‚´ê¸°
- **SMB ê´€ë¦¬**: ì‚¬ìš©ì ë™ê¸°í™”, ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬
- **ì‹œìŠ¤í…œ ì •ë³´**: ì„œë²„ ìƒíƒœ, ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           í´ë¼ì´ì–¸íŠ¸                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Browser â”‚  â”‚   SMB    â”‚  â”‚  WebDAV  â”‚  â”‚  Mobile/Desktop    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚                  â”‚
        â–¼             â–¼             â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Docker Network                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  :3080 UI Server (Express)  â—„â”€â”€â”€â”€â–º  :8080 API Server (Go)    â”‚  â”‚
â”‚  â”‚  â”œâ”€ Static files                    â”œâ”€ Auth (JWT/2FA/SSO)    â”‚  â”‚
â”‚  â”‚  â”œâ”€ API Proxy                       â”œâ”€ File Operations       â”‚  â”‚
â”‚  â”‚  â””â”€ WebSocket Proxy                 â”œâ”€ Share Management      â”‚  â”‚
â”‚  â”‚                                     â”œâ”€ TUS Upload            â”‚  â”‚
â”‚  â”‚  :445 Samba (SMB/CIFS)              â”œâ”€ WebSocket             â”‚  â”‚
â”‚  â”‚  â””â”€ Network file sharing            â”œâ”€ WebDAV                â”‚  â”‚
â”‚  â”‚                                     â””â”€ OnlyOffice            â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                       â”‚
â”‚                              â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Shared Volume (/data)                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ /users/      - ì‚¬ìš©ì í™ˆ ë””ë ‰í† ë¦¬                           â”‚  â”‚
â”‚  â”‚  â”œâ”€ /shared/     - ê³µìœ  ë“œë¼ì´ë¸Œ                                â”‚  â”‚
â”‚  â”‚  â””â”€ /.cache/     - ì¸ë„¤ì¼/ë¯¸ë¦¬ë³´ê¸° ìºì‹œ                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                       â”‚
â”‚                              â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PostgreSQL (DB)    â”‚  â”‚  Valkey (Cache/Session)             â”‚   â”‚
â”‚  â”‚  â””â”€ 11 tables       â”‚  â”‚  â””â”€ Sessions, thumbnails, stats     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  Optional Services:                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  OnlyOffice (:8088) â”‚  â”‚  Keycloak (:8180)                   â”‚   â”‚
â”‚  â”‚  â””â”€ Document editingâ”‚  â”‚  â””â”€ SSO/OIDC                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë¹ ë¥¸ ì‹œì‘

### ìš”êµ¬ ì‚¬í•­
- Docker Engine 24.0+
- Docker Compose v2.20+
- ìµœì†Œ 4GB RAM
- ì‚¬ìš© ê°€ëŠ¥í•œ í¬íŠ¸: 3080 (ì›¹), 445/139 (SMB)

### ê¸°ë³¸ ì„¤ì¹˜ (ê¶Œì¥)

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/your-org/FileHatch.git
cd FileHatch

# ìë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (í™˜ê²½ì„¤ì •, ë³´ì•ˆí‚¤ ìƒì„±, ë¹Œë“œ, ì‹œì‘)
./scripts/setup.sh
```

ë˜ëŠ” ìˆ˜ë™ ì„¤ì¹˜:

```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ JWT_SECRET, ENCRYPTION_KEY ë“± ì„¤ì •

# ëª¨ë“  ì„œë¹„ìŠ¤ ë¹Œë“œ ë° ì‹œì‘
docker compose up -d --build

# ìƒíƒœ í™•ì¸
docker compose ps

# ë¡œê·¸ í™•ì¸
docker compose logs -f
```

> ğŸ’¡ **ì°¸ê³ **: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ì€ API ì„œë²„ ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### ì ‘ì† ì •ë³´

| í”„ë¡œí† ì½œ | URL | ì„¤ëª… |
|----------|-----|------|
| ì›¹ UI | http://localhost:3080 | ë©”ì¸ ì›¹ ì¸í„°í˜ì´ìŠ¤ |
| SMB (Windows) | `\\localhost\home` | Windows íƒìƒ‰ê¸°ì—ì„œ ì ‘ê·¼ |
| SMB (Mac/Linux) | `smb://localhost/home` | Finder/íŒŒì¼ê´€ë¦¬ìì—ì„œ ì ‘ê·¼ |
| WebDAV | http://localhost:3080/api/webdav/ | WebDAV í´ë¼ì´ì–¸íŠ¸ ì—°ë™ |

### ê¸°ë³¸ ê³„ì •

```
ì‚¬ìš©ìëª…: admin
ë¹„ë°€ë²ˆí˜¸: admin1234
ì´ë©”ì¼: admin@localhost
```

> âš ï¸ **ë³´ì•ˆ ì£¼ì˜**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì„¸ìš”!

---

## ì‹¤í–‰ ì˜µì…˜

### Docker Compose í”„ë¡œí•„

FileHatchëŠ” Docker Compose í”„ë¡œí•„ì„ ì‚¬ìš©í•˜ì—¬ ì„ íƒì  ê¸°ëŠ¥ì„ í™œì„±í™”í•©ë‹ˆë‹¤.

| ì‹¤í–‰ ëª…ë ¹ | í¬í•¨ ì„œë¹„ìŠ¤ | ìš©ë„ |
|----------|------------|------|
| `docker compose up -d` | API, UI, DB, Valkey, Samba | ê¸°ë³¸ ì„¤ì¹˜ |
| `docker compose --profile office up -d` | ê¸°ë³¸ + OnlyOffice | ë¬¸ì„œ í¸ì§‘ ê¸°ëŠ¥ |
| `docker compose --profile sso up -d` | ê¸°ë³¸ + Keycloak | SSO ì¸ì¦ |
| `docker compose --profile office --profile sso up -d` | ëª¨ë“  ì„œë¹„ìŠ¤ | ì „ì²´ ê¸°ëŠ¥ |

### ì„œë¹„ìŠ¤ë³„ í¬íŠ¸

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | í”„ë¡œí† ì½œ | ì„¤ëª… |
|--------|------|----------|------|
| UI | 3080 | HTTP | ì›¹ ì¸í„°í˜ì´ìŠ¤ |
| SMB | 445, 139 | SMB/CIFS | Windows íŒŒì¼ ê³µìœ  |
| WebDAV | 3080/webdav | HTTP | WebDAV í´ë¼ì´ì–¸íŠ¸ |
| OnlyOffice | 8088 | HTTP | ë¬¸ì„œ í¸ì§‘ ì„œë²„ (--profile office) |
| Keycloak | 8180 | HTTP | SSO ì¸ì¦ ì„œë²„ (--profile sso) |
| PostgreSQL | 5432 | TCP | ë°ì´í„°ë² ì´ìŠ¤ (ë‚´ë¶€) |
| Valkey | 6379 | TCP | ìºì‹œ ì„œë²„ (ë‚´ë¶€) |

---

## ê³ ê¸‰ ì„¤ì •

### OnlyOffice ë¬¸ì„œ í¸ì§‘ê¸° (ì„ íƒ)

ë¸Œë¼ìš°ì €ì—ì„œ Office ë¬¸ì„œ (Word, Excel, PowerPoint)ë¥¼ ì§ì ‘ í¸ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ğŸ“– **ìƒì„¸ ê°€ì´ë“œ**: [OnlyOffice ì„¤ì • ê°€ì´ë“œ](./docs/ONLYOFFICE_SETUP.md)

```bash
# OnlyOffice í¬í•¨í•˜ì—¬ ì‹œì‘
docker compose --profile office up -d

# OnlyOffice ìƒíƒœ í™•ì¸
docker compose logs onlyoffice
```

OnlyOffice ì„¤ì •:
- ë‚´ë¶€ URL: `http://onlyoffice` (Docker ë„¤íŠ¸ì›Œí¬)
- ì™¸ë¶€ URL: `http://ì„œë²„IP:8088`
- ì™¸ë¶€ ì ‘ê·¼ì´ í•„ìš”í•œ ê²½ìš° `.env`ì— `ONLYOFFICE_PUBLIC_URL` ì„¤ì •

### SSO (Keycloak) í†µí•© (ì„ íƒ)

OIDC ê¸°ë°˜ Single Sign-Onì„ ì„¤ì •í•©ë‹ˆë‹¤.

> ğŸ“– **ìƒì„¸ ê°€ì´ë“œ**: [SSO ì„¤ì • ê°€ì´ë“œ](./docs/SSO_SETUP.md)

```bash
# 1. SSO í”„ë¡œí•„ë¡œ ì‹œì‘
docker compose --profile sso up -d

# 2. Keycloakì´ ì¤€ë¹„ë  ë•Œê¹Œì§€ ëŒ€ê¸° (ì•½ 2ë¶„)
docker compose logs -f keycloak
# "Running the server" ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚˜ë©´ ì¤€ë¹„ ì™„ë£Œ

# 3. Keycloak ì´ˆê¸° ì„¤ì • (ìµœì´ˆ 1íšŒ)
./scripts/setup-keycloak.sh
```

Keycloak ê´€ë¦¬ ì½˜ì†”: http://localhost:8180/auth
- ì‚¬ìš©ìëª…: `admin`
- ë¹„ë°€ë²ˆí˜¸: `admin123` (`.env`ì—ì„œ ë³€ê²½ ê°€ëŠ¥)

> âš ï¸ **ì£¼ì˜**: í”„ë¡œë•ì…˜ì—ì„œëŠ” `KEYCLOAK_ADMIN_PASSWORD`ë¥¼ ë°˜ë“œì‹œ ë³€ê²½í•˜ì„¸ìš”.

### ëª¨ë“  ê¸°ëŠ¥ í™œì„±í™”

```bash
# OnlyOffice + Keycloak ëª¨ë‘ ì‚¬ìš©
docker compose --profile office --profile sso up -d

# ìƒíƒœ í™•ì¸
docker compose ps
```

### ìœ ìš©í•œ ëª…ë ¹ì–´

```bash
# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker compose ps

# ë¡œê·¸ í™•ì¸ (ì‹¤ì‹œê°„)
docker compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸
docker compose logs -f api

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
docker compose restart api

# ì „ì²´ ì¤‘ì§€
docker compose down

# ë³¼ë¥¨ í¬í•¨ ì „ì²´ ì‚­ì œ (ë°ì´í„° ì‚­ì œë¨!)
docker compose down -v

# ì´ë¯¸ì§€ ì¬ë¹Œë“œ
docker compose build --no-cache

# API í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./scripts/test-api.sh

# ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
./scripts/migrate.sh status

# ë°±ì—…
./scripts/backup.sh
```

### í™˜ê²½ ë³€ìˆ˜

#### API ì„œë²„
| ë³€ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `DB_HOST` | db | PostgreSQL í˜¸ìŠ¤íŠ¸ |
| `DB_PORT` | 5432 | PostgreSQL í¬íŠ¸ |
| `DB_USER` | fh_user | ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì |
| `DB_PASS` | fh_password | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ |
| `DB_NAME` | fh_main | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ |
| `VALKEY_HOST` | valkey | Valkey í˜¸ìŠ¤íŠ¸ |
| `VALKEY_PORT` | 6379 | Valkey í¬íŠ¸ |
| `JWT_SECRET` | (ìë™ìƒì„±) | JWT ì„œëª… í‚¤ (**í”„ë¡œë•ì…˜ì—ì„œ ë³€ê²½ í•„ìˆ˜**) |
| `CORS_ALLOWED_ORIGINS` | * | í—ˆìš©ëœ CORS ì˜¤ë¦¬ì§„ |
| `ENCRYPTION_KEY` | (ìë™ìƒì„±) | ë¯¼ê° ë°ì´í„° ì•”í˜¸í™” í‚¤ |

#### UI ì„œë²„
| ë³€ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `API_URL` | http://api:8080 | API ì„œë²„ ë‚´ë¶€ URL |
| `ONLYOFFICE_URL` | http://onlyoffice | OnlyOffice ë‚´ë¶€ URL |
| `ONLYOFFICE_PUBLIC_URL` | - | OnlyOffice ì™¸ë¶€ ì ‘ê·¼ URL |

---

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
FileHatch/
â”œâ”€â”€ api/                          # Go ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ handlers/                 # HTTP í•¸ë“¤ëŸ¬ (~50ê°œ íŒŒì¼)
â”‚   â”‚   â”œâ”€â”€ auth.go               # ì¸ì¦ (JWT, Login)
â”‚   â”‚   â”œâ”€â”€ auth_user.go          # ì‚¬ìš©ì CRUD
â”‚   â”‚   â”œâ”€â”€ handler.go            # íŒŒì¼/í´ë” CRUD
â”‚   â”‚   â”œâ”€â”€ operations.go         # Rename/Move/Copy
â”‚   â”‚   â”œâ”€â”€ search.go             # íŒŒì¼ ê²€ìƒ‰
â”‚   â”‚   â”œâ”€â”€ share.go              # ë‹¤ìš´ë¡œë“œ ê³µìœ 
â”‚   â”‚   â”œâ”€â”€ upload_share.go       # ì—…ë¡œë“œ ê³µìœ 
â”‚   â”‚   â”œâ”€â”€ file_share_handler.go # ì‚¬ìš©ì ê°„ ê³µìœ 
â”‚   â”‚   â”œâ”€â”€ shared_folder_handler.go # ê³µìœ  ë“œë¼ì´ë¸Œ
â”‚   â”‚   â”œâ”€â”€ onlyoffice.go         # OnlyOffice í†µí•©
â”‚   â”‚   â”œâ”€â”€ sso.go                # SSO í•µì‹¬
â”‚   â”‚   â”œâ”€â”€ sso_callback.go       # OAuth ì½œë°±
â”‚   â”‚   â”œâ”€â”€ trash.go              # íœ´ì§€í†µ
â”‚   â”‚   â”œâ”€â”€ audit.go              # ê°ì‚¬ ë¡œê·¸
â”‚   â”‚   â”œâ”€â”€ websocket.go          # ì‹¤ì‹œê°„ ì•Œë¦¼
â”‚   â”‚   â”œâ”€â”€ webdav.go             # WebDAV
â”‚   â”‚   â”œâ”€â”€ thumbnail.go          # ì¸ë„¤ì¼ ìƒì„±
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ database/                 # DB ì—°ê²°
â”‚   â”œâ”€â”€ main.go                   # ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ (~500ì¤„)
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ ui/                           # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                  # API í´ë¼ì´ì–¸íŠ¸ (11ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts         # ê³µí†µ API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts           # ì¸ì¦ API
â”‚   â”‚   â”‚   â”œâ”€â”€ files.ts          # íŒŒì¼ API
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ components/           # React ì»´í¬ë„ŒíŠ¸ (65+)
â”‚   â”‚   â”‚   â”œâ”€â”€ FileList.tsx      # ë©”ì¸ íŒŒì¼ ë¸Œë¼ìš°ì €
â”‚   â”‚   â”‚   â”œâ”€â”€ filelist/         # FileList í•˜ìœ„ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin*.tsx        # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ hooks/                # ì»¤ìŠ¤í…€ í›… (15ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ useToast.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useLocalSearch.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useFileMetadata.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ stores/               # Zustand ìŠ¤í† ì–´
â”‚   â”‚   â””â”€â”€ styles/               # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ server.cjs                # Express ì„œë²„
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ samba/                        # Samba ì„¤ì •
â”‚   â”œâ”€â”€ smb.conf.template
â”‚   â”œâ”€â”€ entrypoint.sh
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ db/                           # ë°ì´í„°ë² ì´ìŠ¤
â”‚   â””â”€â”€ init.sql                  # ìŠ¤í‚¤ë§ˆ (11ê°œ í…Œì´ë¸”)
â”œâ”€â”€ scripts/                      # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ setup-keycloak.sh
â”œâ”€â”€ data/                         # íŒŒì¼ ì €ì¥ì†Œ (ë³¼ë¥¨)
â”œâ”€â”€ docker-compose.yml            # ê¸°ë³¸ êµ¬ì„±
â””â”€â”€ docker-compose-sso.yaml       # SSO êµ¬ì„±
```

---

## API ë ˆí¼ëŸ°ìŠ¤

### ì¸ì¦

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/auth/login` | ë¡œê·¸ì¸ |
| POST | `/api/auth/2fa/verify` | 2FA ì½”ë“œ ê²€ì¦ |
| GET | `/api/auth/profile` | í”„ë¡œí•„ ì¡°íšŒ |
| PUT | `/api/auth/profile` | í”„ë¡œí•„ ìˆ˜ì • |
| PUT | `/api/auth/password` | ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ |
| GET | `/api/auth/2fa/status` | 2FA ìƒíƒœ í™•ì¸ |
| POST | `/api/auth/2fa/setup` | 2FA ì„¤ì • ì‹œì‘ |
| POST | `/api/auth/2fa/enable` | 2FA í™œì„±í™” |
| DELETE | `/api/auth/2fa/disable` | 2FA ë¹„í™œì„±í™” |
| GET | `/api/auth/sso/providers` | SSO í”„ë¡œë°”ì´ë” ëª©ë¡ |
| GET | `/api/auth/sso/auth/:id` | SSO ì¸ì¦ URL |
| GET | `/api/auth/sso/callback/:id` | OAuth ì½œë°± |

### íŒŒì¼ ê´€ë¦¬

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/files` | íŒŒì¼ ëª©ë¡ (í˜ì´ì§€ë„¤ì´ì…˜) |
| GET | `/api/files/search` | íŒŒì¼ ê²€ìƒ‰ |
| GET | `/api/files/recent` | ìµœê·¼ íŒŒì¼ |
| GET | `/api/files/*` | íŒŒì¼ ë‹¤ìš´ë¡œë“œ |
| DELETE | `/api/files/*` | íŒŒì¼ ì‚­ì œ |
| POST | `/api/files/rename` | ì´ë¦„ ë³€ê²½ |
| POST | `/api/files/move` | ì´ë™ |
| POST | `/api/files/copy` | ë³µì‚¬ |
| POST | `/api/files/create` | ìƒˆ íŒŒì¼ ìƒì„± |
| PUT | `/api/files/content/*` | íŒŒì¼ ë‚´ìš© ì €ì¥ |
| POST | `/api/folders` | í´ë” ìƒì„± |
| GET | `/api/folders/stats/*` | í´ë” í†µê³„ |
| GET | `/api/zip/*` | ZIP ë‹¤ìš´ë¡œë“œ |

### ì—…ë¡œë“œ (TUS í”„ë¡œí† ì½œ)

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/upload/` | ì—…ë¡œë“œ ì‹œì‘ |
| PATCH | `/api/upload/*` | ì²­í¬ ì—…ë¡œë“œ |
| HEAD | `/api/upload/*` | ì—…ë¡œë“œ ìƒíƒœ |
| DELETE | `/api/upload/*` | ì—…ë¡œë“œ ì·¨ì†Œ |

### ê³µìœ  ë§í¬

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/shares` | ê³µìœ  ìƒì„± |
| GET | `/api/shares` | ë‚´ ê³µìœ  ëª©ë¡ |
| DELETE | `/api/shares/:id` | ê³µìœ  ì‚­ì œ |
| GET | `/api/s/:token` | ê³µìœ  ì •ë³´ (ê³µê°œ) |
| GET | `/api/s/:token/download` | ê³µìœ  ë‹¤ìš´ë¡œë“œ |
| GET | `/api/u/:token` | ì—…ë¡œë“œ ê³µìœ  ì •ë³´ |
| POST | `/api/u/:token/upload/` | ì—…ë¡œë“œ ê³µìœ ë¡œ íŒŒì¼ ì—…ë¡œë“œ |

### ì‚¬ìš©ì ê°„ ê³µìœ 

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/api/file-shares` | íŒŒì¼ ê³µìœ  |
| GET | `/api/file-shares/shared-by-me` | ë‚´ê°€ ê³µìœ í•œ íŒŒì¼ |
| GET | `/api/file-shares/shared-with-me` | ë‚˜ì—ê²Œ ê³µìœ ëœ íŒŒì¼ |
| DELETE | `/api/file-shares/:id` | ê³µìœ  ì·¨ì†Œ |

### ê³µìœ  ë“œë¼ì´ë¸Œ

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/shared-folders` | ë‚´ ê³µìœ  ë“œë¼ì´ë¸Œ ëª©ë¡ |
| GET | `/api/admin/shared-folders` | ì „ì²´ ê³µìœ  ë“œë¼ì´ë¸Œ (ê´€ë¦¬ì) |
| POST | `/api/admin/shared-folders` | ìƒì„± (ê´€ë¦¬ì) |
| PUT | `/api/admin/shared-folders/:id` | ìˆ˜ì • (ê´€ë¦¬ì) |
| DELETE | `/api/admin/shared-folders/:id` | ì‚­ì œ (ê´€ë¦¬ì) |
| POST | `/api/admin/shared-folders/:id/members` | ë©¤ë²„ ì¶”ê°€ |
| DELETE | `/api/admin/shared-folders/:id/members/:userId` | ë©¤ë²„ ì œê±° |

### ê´€ë¦¬ì

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/admin/users` | ì‚¬ìš©ì ëª©ë¡ |
| POST | `/api/admin/users` | ì‚¬ìš©ì ìƒì„± |
| PUT | `/api/admin/users/:id` | ì‚¬ìš©ì ìˆ˜ì • |
| DELETE | `/api/admin/users/:id` | ì‚¬ìš©ì ì‚­ì œ |
| GET | `/api/admin/settings` | ì‹œìŠ¤í…œ ì„¤ì • ì¡°íšŒ |
| PUT | `/api/admin/settings` | ì‹œìŠ¤í…œ ì„¤ì • ìˆ˜ì • |
| GET | `/api/admin/system-info` | ì‹œìŠ¤í…œ ì •ë³´ |
| GET | `/api/audit/logs` | ê°ì‚¬ ë¡œê·¸ |

### ì•Œë¦¼

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/notifications` | ì•Œë¦¼ ëª©ë¡ |
| PUT | `/api/notifications/:id/read` | ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬ |
| PUT | `/api/notifications/read-all` | ëª¨ë“  ì•Œë¦¼ ì½ìŒ |
| DELETE | `/api/notifications/:id` | ì•Œë¦¼ ì‚­ì œ |

### ê¸°íƒ€

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| WS | `/api/ws` | ì‹¤ì‹œê°„ ì•Œë¦¼ WebSocket |
| ANY | `/api/webdav/*` | WebDAV ì ‘ê·¼ |
| GET | `/api/storage/usage` | ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰ |
| GET | `/api/thumbnail/*` | ì¸ë„¤ì¼ ì¡°íšŒ |
| GET | `/api/metadata/*` | íŒŒì¼ ë©”íƒ€ë°ì´í„° |
| PUT | `/api/metadata/*` | ë©”íƒ€ë°ì´í„° ìˆ˜ì • |
| GET | `/api/trash` | íœ´ì§€í†µ ëª©ë¡ |
| POST | `/api/trash/restore/:id` | íœ´ì§€í†µ ë³µì› |
| DELETE | `/api/trash/:id` | ì˜êµ¬ ì‚­ì œ |

---

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

| í…Œì´ë¸” | ì„¤ëª… | ì£¼ìš” ì»¬ëŸ¼ |
|--------|------|----------|
| `users` | ì‚¬ìš©ì ê³„ì • | id, username, email, password_hash, totp_secret |
| `acl` | ì ‘ê·¼ ì œì–´ ëª©ë¡ | path, entity_type, entity_id, permission_level |
| `audit_logs` | ê°ì‚¬ ë¡œê·¸ (ë¶ˆë³€) | ts, actor_id, event_type, target_resource, details |
| `shares` | ê³µìœ  ë§í¬ | token, path, share_type, expires_at, password_hash |
| `shared_folders` | ê³µìœ  ë“œë¼ì´ë¸Œ | name, description, storage_quota, created_by |
| `shared_folder_members` | ë“œë¼ì´ë¸Œ ë©¤ë²„ì‹­ | shared_folder_id, user_id, permission_level |
| `file_shares` | ì‚¬ìš©ì ê°„ ê³µìœ  | item_path, owner_id, shared_with_id, permission_level |
| `file_metadata` | íŒŒì¼ ë©”íƒ€ë°ì´í„° | user_id, file_path, description, tags |
| `notifications` | ì•Œë¦¼ | user_id, type, title, message, is_read |
| `system_settings` | ì‹œìŠ¤í…œ ì„¤ì • | key, value, description |
| `sso_providers` | SSO í”„ë¡œë°”ì´ë” | name, provider_type, client_id, issuer_url |

---

## ë³´ì•ˆ ê¸°ëŠ¥

### êµ¬í˜„ëœ ë³´ì•ˆ ê¸°ëŠ¥
- JWT í† í° ê¸°ë°˜ ì¸ì¦
- TOTP ê¸°ë°˜ 2FA (ë°±ì—… ì½”ë“œ í¬í•¨)
- ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (bcrypt)
- ë¯¼ê° ë°ì´í„° ì•”í˜¸í™” (AES-256-GCM)
- SQL ì¸ì ì…˜ ë°©ì§€ (íŒŒë¼ë¯¸í„°í™”ëœ ì¿¼ë¦¬)
- CORS ë³´í˜¸
- ë³´ì•ˆ í—¤ë” ë¯¸ë“¤ì›¨ì–´ (HSTS, CSP, X-Frame-Options, X-Content-Type-Options ë“±)
- XSS ë°©ì§€
- IP ê¸°ë°˜ ì†ë„ ì œí•œ
- ë¸Œë£¨íŠ¸í¬ìŠ¤ ë°©ì§€ (ë¡œê·¸ì¸ ì‹œë„ ì œí•œ)
- ê°ì‚¬ ë¡œê¹… (ë¶ˆë³€)
- ACL ê¸°ë°˜ ì ‘ê·¼ ì œì–´

### âš ï¸ ë°°í¬ ì „ í•„ìˆ˜ ë³€ê²½ ì‚¬í•­

í”„ë¡œë•ì…˜ ë°°í¬ ì „ ë°˜ë“œì‹œ ì•„ë˜ í•­ëª©ì„ ë³€ê²½í•˜ì„¸ìš”:

#### 1. í™˜ê²½ ë³€ìˆ˜ (.env)

| ë³€ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… | ìƒì„± ë°©ë²• |
|------|--------|------|----------|
| `JWT_SECRET` | ê°œë°œìš© ê¸°ë³¸ê°’ | JWT ì„œëª… í‚¤ (64ì ì´ìƒ ê¶Œì¥) | `openssl rand -hex 32` |
| `ENCRYPTION_KEY` | ê°œë°œìš© ê¸°ë³¸ê°’ | AES-256 ì•”í˜¸í™” í‚¤ | `openssl rand -hex 32` |
| `DB_PASS` | `fh_password` | PostgreSQL ë¹„ë°€ë²ˆí˜¸ | `openssl rand -base64 24` |
| `KEYCLOAK_ADMIN_PASSWORD` | `admin123` | Keycloak ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ | ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ì„¤ì • |

> ğŸ’¡ **íŒ**: `./scripts/setup.sh` ì‹¤í–‰ ì‹œ JWT_SECRET, ENCRYPTION_KEY, DB_PASSê°€ ìë™ìœ¼ë¡œ ì•ˆì „í•œ ê°’ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.

#### 2. ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •

| í•­ëª© | ê¸°ë³¸ê°’ | ì¡°ì¹˜ |
|------|--------|------|
| ì‚¬ìš©ìëª… | `admin` | ì²« ë¡œê·¸ì¸ í›„ ìƒˆ ê´€ë¦¬ì ê³„ì • ìƒì„± ê¶Œì¥ |
| ë¹„ë°€ë²ˆí˜¸ | `admin1234` | **ì²« ë¡œê·¸ì¸ í›„ ì¦‰ì‹œ ë³€ê²½ í•„ìˆ˜** |
| ì´ë©”ì¼ | `admin@localhost` | ì‹¤ì œ ì´ë©”ì¼ë¡œ ë³€ê²½ |

#### 3. ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

```bash
# ë°°í¬ ì „ í™•ì¸ ì‚¬í•­
[ ] .env íŒŒì¼ì˜ ëª¨ë“  ì‹œí¬ë¦¿ ê°’ ë³€ê²½ ì™„ë£Œ
[ ] admin ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì™„ë£Œ (ì²« ë¡œê·¸ì¸ í›„)
[ ] CORS_ALLOWED_ORIGINSì— ì‹¤ì œ ë„ë©”ì¸ë§Œ ì„¤ì •
[ ] HTTPS ì„¤ì • ì™„ë£Œ (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ)
[ ] ë°©í™”ë²½ ì„¤ì • (í•„ìš”í•œ í¬íŠ¸ë§Œ ê°œë°©)
[ ] ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
```

### ê¶Œì¥ í”„ë¡œë•ì…˜ ì„¤ì •

```bash
# .env íŒŒì¼ ì˜ˆì‹œ (í”„ë¡œë•ì…˜)
JWT_SECRET=ì—¬ê¸°ì—_openssl_rand_hex_32_ê²°ê³¼ê°’
ENCRYPTION_KEY=ì—¬ê¸°ì—_openssl_rand_hex_32_ê²°ê³¼ê°’
DB_PASS=ê°•ë ¥í•œ_ë°ì´í„°ë² ì´ìŠ¤_ë¹„ë°€ë²ˆí˜¸
CORS_ALLOWED_ORIGINS=https://your-domain.com
```

```yaml
# docker-compose.override.yml (ì„ íƒ)
services:
  api:
    environment:
      - LOG_LEVEL=warn
    deploy:
      resources:
        limits:
          cpus: '2'
          memory: 2G
```

---

## ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

**Q: Docker ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**
```bash
# ë¡œê·¸ í™•ì¸
docker compose logs api db valkey

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker compose down && docker compose up -d
```

**Q: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜**
```bash
# DB ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker compose exec db pg_isready -U fh_user -d fh_main
```

**Q: SMB ì ‘ê·¼ì´ ì•ˆë©ë‹ˆë‹¤.**
```bash
# Samba ë¡œê·¸ í™•ì¸
docker compose logs samba

# í¬íŠ¸ í™•ì¸ (445ê°€ ì—´ë ¤ìˆì–´ì•¼ í•¨)
netstat -an | grep 445
```

**Q: OnlyOffice ë¬¸ì„œê°€ ì—´ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤.**
- OnlyOffice í”„ë¡œí•„ë¡œ ì‹œì‘í–ˆëŠ”ì§€ í™•ì¸: `docker compose --profile office up -d`
- OnlyOffice ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸: `docker compose logs onlyoffice`

---

## ê°œë°œ ê°€ì´ë“œ

### ë¡œì»¬ ê°œë°œ í™˜ê²½

```bash
# Backend (Go)
cd api
go mod download
go run main.go

# Frontend (React)
cd ui
npm install
npm run dev
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# Go í…ŒìŠ¤íŠ¸
cd api
go test ./handlers/...

# React í…ŒìŠ¤íŠ¸
cd ui
npm run test:run
```

### ë¹Œë“œ

```bash
# ì „ì²´ ë¹Œë“œ
docker compose build

# ê°œë³„ ì„œë¹„ìŠ¤ ë¹Œë“œ
docker compose build api
docker compose build ui
```

---

## ë¡œë“œë§µ

ìì„¸í•œ ê°œë°œ ê³„íšì€ [IMPROVEMENT_PLAN.md](IMPROVEMENT_PLAN.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### ë‹¨ê¸° ê³„íš
- [ ] API ë¬¸ì„œí™” (OpenAPI/Swagger)
- [ ] E2E í…ŒìŠ¤íŠ¸ ì¶”ê°€
- [ ] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (Prometheus/Grafana)
- [ ] ë¡œê·¸ ì§‘ê³„ (ELK Stack)

### ì¤‘ê¸° ê³„íš
- [ ] íŒŒì¼ ë²„ì „ ê´€ë¦¬ (íˆìŠ¤í† ë¦¬)
- [ ] ê³ ê¸‰ ê²€ìƒ‰ (Elasticsearch)
- [ ] ëª¨ë°”ì¼ ìµœì í™” ê°œì„ 
- [ ] ì˜¤í”„ë¼ì¸ ë™ê¸°í™”

### ì¥ê¸° ê³„íš
- [ ] ëª¨ë°”ì¼ ì•± (iOS/Android)
- [ ] íŒŒì¼ ì•”í˜¸í™” (at rest)
- [ ] ì›Œí„°ë§ˆí¬ ê¸°ëŠ¥
- [ ] ë°ìŠ¤í¬í†± ë™ê¸°í™” í´ë¼ì´ì–¸íŠ¸

---

## ê¸°ì—¬

ì´ìŠˆì™€ í’€ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ë¼ì´ì„ ìŠ¤

MIT License - ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ê°ì‚¬ì˜ ë§

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

- [Echo](https://echo.labstack.com/) - Go ì›¹ í”„ë ˆì„ì›Œí¬
- [React](https://reactjs.org/) - UI ë¼ì´ë¸ŒëŸ¬ë¦¬
- [TUS](https://tus.io/) - ì¬ê°œ ê°€ëŠ¥í•œ ì—…ë¡œë“œ í”„ë¡œí† ì½œ
- [OnlyOffice](https://www.onlyoffice.com/) - ë¬¸ì„œ í¸ì§‘ê¸°
- [Keycloak](https://www.keycloak.org/) - SSO ì†”ë£¨ì…˜
